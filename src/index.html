<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Dave Maynard &bull; Portfolio &bull; Design &amp; Code</title>

  <link href="https://fonts.googleapis.com/css?family=Libre+Baskerville:300,400,700&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="css/styles.css" />
</head>

<body>
  <nav>
    <div class="nav">
      <div class="nav__upper">
        <!-- <div class="nav__upper-content">
          <a href="/" class="nav__upper-content-logo label label--upper">Dave Maynard</a>
        </div> -->
        <div class="nav__upper-menu">
          <div class="nav__upper-menu-inner">
            <button class="hamburger" aria-haspopup="true">
              <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" class="hamburger-svg" role="img">
                <title>Toggle Menu</title>
                <rect x="0" y="4" width="24" height="2" class="first-line" fill="#ffffff" />
                <rect x="0" y="11" width="24" height="2" class="second-line" fill="#ffffff" />
                <rect x="0" y="18" width="24" height="2" class="third-line" fill="#ffffff" />
              </svg>
            </button>
          </div>
        </div>
        <div class="nav__upper-arrows">
          <div class="nav__upper-arrows-inner">
            <button class="arrow-prev">
              <svg width="10" height="14" viewBox="0 0 10 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M8.99787 13.0001L1 7.39992M9 1.78871L1.00213 7.38888" stroke="white" stroke-width="2" stroke-linecap="round" />
              </svg>
            </button>
            <button class="arrow-next">
              <svg width="10" height="14" viewBox="0 0 10 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M8.99787 13.0001L1 7.39992M9 1.78871L1.00213 7.38888" stroke="white" stroke-width="2" stroke-linecap="round" />
              </svg>
            </button>
          </div>
        </div>
      </div>
      <div class="nav__content">
        <div class="nav__content-inner">
          <a href="/" class="nav__content-inner-logo label label--upper">Dave Maynard</a>
          <div class="nav__content-inner-selector">
            <div class="nav__content-inner-selector-bgs" data-vs-id="multiple-textures-vs" data-fs-id="multiple-textures-fs">
              <div id="canvas"></div>
              <!-- here we are using the data-sampler attribute to name our displacement sampler uniform -->
              <img src="assets/img/displacement.jpg" data-sampler="displacement" />
              <img src="assets/img/heros/about-hero.jpg" />
              <img src="assets/img/heros/home-hero.jpg" />
              <img src="assets/img/heros/color-speaks-hero.jpg" />
              <img src="assets/img/heros/shaw-floors-hero.jpg" />
              <img src="assets/img/heros/floorfit-hero.jpg" />
              <img src="assets/img/heros/sagepath-hero.jpg" />
            </div>
            <div class="nav__content-inner-selector-items">
              <div class="nav__content-inner-selector-items-item h1">Home</div>
              <div class="nav__content-inner-selector-items-item h1 active">Color Speaks</div>
              <div class="nav__content-inner-selector-items-item h1">Shaw Floors</div>
              <div class="nav__content-inner-selector-items-item h1">FloorFit</div>
              <div class="nav__content-inner-selector-items-item h1">Sagepath</div>
              <div class="nav__content-inner-selector-items-item h1">My Story</div>
            </div>
          </div>
          <div class="nav__content-inner-socials">
            <a href="https://github.com/dmaynard24" class="nav__content-inner-socials-link label label--upper" target="_blank">GitHub</a>
            <a href="https://www.linkedin.com/in/dmaynard24/" class="nav__content-inner-socials-link label label--upper" target="_blank">LinkedIn</a>
            <a href="https://codepen.io/davemaynard/" class="nav__content-inner-socials-link label label--upper" target="_blank">CodePen</a>
            <a href="mailto:davemaynard24@gmail.com" class="nav__content-inner-socials-link label label--upper" target="_blank">Email</a>
            <a href="" class="nav__content-inner-socials-link label label--upper" target="_blank">Resume</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
  <div id="main-container">
    <router-view></router-view>
  </div>
  <footer></footer>

  <script id="multiple-textures-vs" type="x-shader/x-vertex">
    #ifdef GL_ES
    precision mediump float;
    #endif

    // default mandatory variables
    attribute vec3 aVertexPosition;
    attribute vec2 aTextureCoord;

    uniform mat4 uMVMatrix;
    uniform mat4 uPMatrix;

    // varyings : notice we've got 3 texture coords varyings
    // one for the displacement texture
    // one for our visible texture
    // and one for the upcoming texture
    varying vec3 vVertexPosition;
    varying vec2 vTextureCoord;
    varying vec2 vActiveTextureCoord;
    varying vec2 vNextTextureCoord;

    // textures matrices
    uniform mat4 activeTexMatrix;
    uniform mat4 nextTexMatrix;

    // custom uniforms
    uniform float uTransitionTimer;
    uniform vec2 uResolution;

    void main() {
      vec3 vertexPosition = aVertexPosition;

      gl_Position = uPMatrix * uMVMatrix * vec4(vertexPosition, 1.0);

      // varyings
      vTextureCoord = aTextureCoord;
      vActiveTextureCoord = (activeTexMatrix * vec4(aTextureCoord, 0.0, 1.0)).xy;
      vNextTextureCoord = (nextTexMatrix * vec4(aTextureCoord, 0.0, 1.0)).xy;

      vVertexPosition = vertexPosition;
    }
  </script>
  <script id="multiple-textures-fs" type="x-shader/x-fragment">
    #ifdef GL_ES
    precision mediump float;
    #endif

    varying vec3 vVertexPosition;
    varying vec2 vTextureCoord;
    varying vec2 vActiveTextureCoord;
    varying vec2 vNextTextureCoord;

    // custom uniforms
    uniform float uTransitionTimer;
    uniform vec2 uResolution;

    // our textures samplers
    // notice how it matches the sampler attributes of the textures we created dynamically
    uniform sampler2D activeTex;
    uniform sampler2D nextTex;
    uniform sampler2D displacement;

    void main( void ) {
      // our displacement texture
      vec4 displacementTexture = texture2D(displacement, vTextureCoord);

      // slides transitions based on displacement and transition timer
      vec2 firstDisplacementCoords = vActiveTextureCoord + displacementTexture.r * ((cos((uTransitionTimer + 45.0) / (45.0 / 3.141592)) + 1.0) / 1.25);
      vec4 firstDistortedColor = texture2D(activeTex, vec2(vActiveTextureCoord.x, firstDisplacementCoords.y));

      // same as above but we substract the effect
      vec2 secondDisplacementCoords = vNextTextureCoord - displacementTexture.r * ((cos(uTransitionTimer / (45.0 / 3.141592)) + 1.0) / 1.25);
      vec4 secondDistortedColor = texture2D(nextTex, vec2(vNextTextureCoord.x, secondDisplacementCoords.y));

      // mix both texture
      vec4 finalColor = mix(firstDistortedColor, secondDistortedColor, 1.0 - ((cos(uTransitionTimer / (45.0 / 3.141592)) + 1.0) / 2.0));

      // handling premultiplied alpha
      finalColor = vec4(finalColor.rgb * finalColor.a, finalColor.a);

      gl_FragColor = finalColor;
    }
  </script>

  

  <script src="lib/js/jquery.min.js"></script>
  <script src="lib/js/vue-dev.js" defer></script>
  <!-- replace vue-dev.js with vue.min.js in prod -->
  <script src="lib/js/vuex.min.js" defer></script>
  <script src="lib/js/vue-router.min.js" defer></script>
  <script src="lib/js/es6-promise.auto.js" defer></script>
  <script src="lib/js/curtains.js" defer></script>

  <script src="js/scripts.js" defer></script>
</body>

</html>