"use strict";Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),n=i.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var o=t,a=0;a<n;){var r=i[a];if(e.call(o,r,a,i))return r;a++}},configurable:!0,writable:!0});var SCREEN_SM=576,SCREEN_MD=768,SCREEN_LG=992,SCREEN_XL=1200,SCREEN_XXL=1440;function onMobile(){return!onDesktop()}function onDesktop(){return window.matchMedia("(min-width: "+SCREEN_LG+"px)").matches}function isTouchDevice(){return"ontouchstart"in window||navigator.msMaxTouchPoints}function getWindowBounds(){return{top:window.pageYOffset,right:window.pageXOffset+window.innerWidth,bottom:window.pageYOffset+window.innerHeight,left:window.pageXOffset}}function getElementBounds(e){var t=e.getBoundingClientRect(),i=getWindowBounds();return{top:t.top+i.top,right:t.left+t.width,bottom:t.top+i.top+t.height,left:t.left}}function isElementVisible(e,t){var i=getWindowBounds(),n=getElementBounds(e);return t?n.top>=i.top-5&&n.right<=i.right+5&&n.bottom<=i.bottom+5&&n.left>=i.left-5||"fixed"===e.style.position:n.top<i.bottom&&n.right>i.left&&n.bottom>i.top&&n.left<i.right||"fixed"===e.style.position}function getRandomInt(e){return Math.floor(Math.random()*Math.floor(e))}function isIE(){var e=navigator.userAgent;return-1<e.indexOf("Trident/")||-1<e.indexOf("MSIE ")}function setStickyElements(){var e=document.querySelectorAll(".sticky");Stickyfill.add(e)}!function(){new ScrollShow(".custom-component",{duration:800,once:!0,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)"});window.addEventListener("load",setStickyElements)}(),function(){function e(){if(!isTouchDevice())for(var e=document.querySelectorAll(".interactive-hero"),t=0;t<e.length;t++){var i=(w=e[t]).querySelector(".room-animation-wrapper"),n=w.querySelector(".swatch-card");window.matchMedia("(min-width: 1200px)").matches?y(i,n,.8):n.removeAttribute("style")}for(var o=document.querySelectorAll(".floorfit-callout-component"),a=0;a<o.length;a++){var r=(w=o[a]).querySelector(".floorfit-callout-text"),s=w.querySelector(".left-moodboard .moodboard"),c=w.querySelector(".right-moodboard .moodboard");window.matchMedia("(min-width: 1200px)").matches?(y(w,r,.1),y(w,s,.1),y(w,c,.1)):(r.removeAttribute("style"),s.removeAttribute("style"),c.removeAttribute("style"))}for(var l=document.querySelectorAll(".day-in-the-life-component"),d=0;d<l.length;d++){var u=(w=l[d]).querySelector(".ditl-swatch-img");window.matchMedia("(min-width: 1310px)").matches?y(w,u,.15):u.removeAttribute("style")}for(var h=document.querySelectorAll(".trend-collage-component"),m=0;m<h.length;m++){var f=(w=h[m]).querySelector(".swatch-card");window.matchMedia("(min-width: 1200px)").matches?y(w,f,.15):f.removeAttribute("style")}for(var p=document.querySelectorAll(".featured-products-carousel-component"),g=0;g<p.length;g++){var w,v=(w=p[g]).querySelector(".desktop-view .featured-products-carousel");window.matchMedia("(min-width: 1200px)").matches?y(w,v,.1):v.style.removeProperty("transform")}}function y(e,t,i,n){var o=e.getBoundingClientRect().top-Math.abs(window.innerHeight-e.getBoundingClientRect().height)/2,a=n?o*i*-1:o*i;t.style.transform="translateY("+a+"px)"}window.addEventListener("load",function(){window.isIE()||(window.addEventListener("scroll",e),window.addEventListener("resize",e),e())})}(),$(function(){$(".day-in-the-life-component").length&&($(".day-in-the-life-component").each(function(e){$(this).css("z-index",$(".day-in-the-life-component").length-e)}),$(window).on("touchmove",function(){$(".custom-tooltip").blur()}))}),$(function(){function e(){if(window.matchMedia("(min-width: 992px)").matches)for(var e=document.querySelectorAll(".featured-products-inner"),t=0;t<e.length;t++){var i=100<30*(s=(a=e[t]).querySelectorAll(".sticky-carousel .carousel-slide").length)?30*s:100;a.style.height=i+"vh"}else for(e=document.querySelectorAll(".featured-products-inner"),t=0;t<e.length;t++)e[t].removeAttribute("style");for(var n=document.querySelectorAll(".sticky-carousel"),o=0;o<n.length;o++){var a,r=(a=n[o]).querySelectorAll(".carousel-slide"),s=r.length;if(window.matchMedia("(min-width: 1200px) and (min-height: 900px)").matches){for(var c=0;c<r.length;c++)r[c].style.width=h+"px",r[c].style.marginRight=m+"px";var l=s*h+s*m+m;a.style.paddingLeft=m+"px",a.style.width=l+"px"}else{for(c=0;c<r.length;c++)r[c].style.width=d+"px",r[c].style.marginRight=u+"px";l=s*d+s*u+u;a.style.paddingLeft=u+"px",a.style.width=l+"px"}a.classList.add("active")}}function t(){if(window.matchMedia("(min-width: 992px)").matches)for(var e=document.querySelectorAll(".featured-products-component"),t=0;t<e.length;t++){var i=e[t],n=i.querySelector(".featured-products-inner"),o=i.querySelector(".featured-products-carousel-component"),a=100*(n.getBoundingClientRect().top/(n.getBoundingClientRect().height-o.getBoundingClientRect().height)*-1).toFixed(2),r=o.querySelector(".desktop-view .featured-products-carousel-wrapper"),s=r.getBoundingClientRect().width,c=(r.querySelector(".featured-products-carousel").getBoundingClientRect().width-s)/100;a<0?a=0:100<a&&(a=100),r.scrollLeft=c*a}}var d,u,h,m;$(".featured-products-carousel").length&&($(".featured-products-carousel.owl-carousel").owlCarousel({loop:!0,margin:0,nav:!1,dots:!0,touchDrag:!0,mouseDrag:!1,responsive:{0:{items:1},568:{items:2,margin:40},992:{items:3,margin:60},1200:{margin:80}}}),d=320,u=60,h=380,m=80,window.addEventListener("resize",e),window.addEventListener("scroll",t),e(),t())}),$(function(){if($(".floorfit-callout-component").length){window.addEventListener("scroll",function(){$(".floorfit-callout-component").each(function(){var e=$(this).find(".scrollable"),t=e.outerWidth(),i=e.find(".moodboard"),n=i.outerWidth()+parseInt(i.css("margin-left"))+parseInt(i.css("margin-right"))-t;!e.hasClass("auto-scrolled")&&isElementVisible(e[0],!0)&&(e.delay(125).animate({scrollLeft:n+"px"},500),e.addClass("auto-scrolled"))})})}}),$(function(){var e,d=0,u=void 0,h=window.matchMedia("(max-width: 767px)").matches,m=13,f=[],p=[{name:"greatroom",floorTypes:[{type:"hardwood",name:"Wire Walnut",attribute:"Loves High Traffic",description:"This style features accentuated grain pines, walnut, dark oak and acacia visuals.",link:"https://shawfloors.com/flooring/resilient/details/paragon-7in-plus-1020v/wire-walnut",image:"assets/img/swatch-wire-walnut.jpg"},{type:"carpet",name:"Snow Fall",attribute:"Feels Comfy",description:"A timeless herringbone pattern and pronounced columns that highlight the differences in color.",link:"https://shawfloors.com/flooring/carpet/details/lead-the-way-e9655/snow-fall",image:"assets/img/swatch-snow-fall.jpg"}],times:["day","night"]},{name:"bedroom",floorTypes:[{type:"hardwood",attribute:"Laughs at Water",name:"Reverie",description:"Warm elegance and natural charm in a timeless style that lasts for generations.",link:"https://shawfloors.com/flooring/hardwood/details/relic-sw698/reverie",image:"assets/img/swatch-reverie.jpg"},{type:"carpet",attribute:"Feels Comfy",name:"Purity",description:"An exploration of Texas farmhouse style with a distressed visual both modern and rustic.",link:"https://shawfloors.com/flooring/carpet/details/xy098-xy098/purity",image:"assets/img/swatch-purity.jpg"}],times:["day","night"]},{name:"kitchen",floorTypes:[{type:"hardwood",attribute:"Keeps It Quiet",name:"Champagne Oak",description:"Unforgettable character and adaptive behavior combine forces for a truly innovative hardwood floor.",link:"https://shawfloors.com/flooring/hardwood/details/exquisite-fh820/champagne-oak",image:"assets/img/swatch-champagne-oak.jpg"},{type:"tile",attribute:"Wears Design Well",name:"Buckskin",description:"One of the three wood-look visuals of Santa Fe for a laid-back, artisan vibe.",link:"https://shawfloors.com/flooring/carpet/details/xy098-xy098/purity",image:"assets/img/swatch-buckskin.jpg"}],times:["day","night"]}],t="",i="hardwood",n="day";function o(){var i=$(".interactive-hero-component"),n=i.find(".interactive-hero-content"),o=i.find(".day-night-toggles");n.css({"margin-bottom":0,"padding-bottom":0}),o.css("margin-bottom",0),i.css("padding-bottom",0),window.matchMedia("(max-width: 1199px)").matches&&i.each(function(){var e=$(this).find(".swatch-card").outerHeight(),t=Math.ceil(e/2);window.matchMedia("(max-width: 767px)").matches?(t=e,n.css({"margin-bottom":t})):(n.css({"margin-bottom":t,"padding-bottom":t}),o.css("margin-bottom",t)),i.css("padding-bottom",t)})}function a(){for(var e=document.querySelectorAll(".interactive-hero"),t=0;t<e.length;t++){var i=e[t],n=i.querySelector(".room-animation-wrapper");if(isElementVisible(n,!1)){var o=i.getBoundingClientRect().top,a=i.getBoundingClientRect().height,r=n.getBoundingClientRect().height;if(o<=0){var s=100*(o/(a-r)*-1).toFixed(2);(d=s)<0?d=0:100<s&&(d=100)}i.querySelector(".swatch-card").classList.add("active"),60<d&&!i.classList.contains("active")&&i.classList.add("active")}}}function r(){var o=document.querySelector(".interactive-hero .room-animation"),a=16/9,r=new THREE.Scene,s=new THREE.PerspectiveCamera(a/2*100,a,.1,2e3),c=new THREE.WebGLRenderer;function l(e,t,i){var a=e+"-"+t+"-"+i,n=[],r=[];h&&(a+="-mobile");for(var o=function(o){var t,e=(t="assets/img/hero/"+a+"/"+o+".jpg",new Promise(function(e){(new THREE.TextureLoader).load(t,e)}));e.then(function(e){var t=new THREE.MeshBasicMaterial({map:e}),i=new THREE.PlaneGeometry(8,4.5,1,1),n=new THREE.Mesh(i,t);e.magFilter=THREE.LinearMipMapLinearFilter,e.minFilter=THREE.NearestFilter,n.name=o,r.push(n),f[a]=r}),n.push(e)},s=1;s<=m;s++)o(s);return Promise.all(n)}function e(){s.aspect=a,s.updateProjectionMatrix();var e,t,i,n=(e=o.getBoundingClientRect(),t=e.width/e.height,{width:(i=a<=t)?e.width+2:e.height*a+2,height:i?e.width/a+2:e.height+2});c.setSize(n.width,n.height)}o.appendChild(c.domElement),s.position.z=2,l(t,i,n).then(function(e){!function e(){u=requestAnimationFrame(e);var t=100/m,i=Math.round(d/t);if(i<1?i=1:m<i&&(i=m),i<=m){for(;0<r.children.length;)r.remove(r.children[0]);var n=g(),o=f[n].find(function(e){return e.name==i});r.add(o)}c.render(r,s)}();var o=p.find(function(e){return 1==e.active});o.floorTypes.forEach(function(i,n){o.times.forEach(function(e,t){(0<n||0<t)&&l(o.name,i.type,e)})})}),window.addEventListener("resize",e,!1),e(),c.context.canvas.addEventListener("webglcontextlost",function(e){e.preventDefault(),cancelAnimationFrame(u),w()},!1)}function g(){var e=t+"-"+i+"-"+n;return h&&(e+="-mobile"),e}function s(e){var t=p.find(function(e){return 1==e.active}).floorTypes.find(function(e){return e.type==i});e.find(".swatch-card").html('<div class="swatch-card-text">\n        <h3>'+t.name+"</h3>\n        <p>"+t.description+'</p>\n        <a class="cta-link white" href="'+t.link+'">\n          <span class="cta-link-text">Details</span><span class="cta-link-after"></span>\n        </a>\n      </div>\n      <div class="swatch-img-container">\n        <div class="swatch-img" style="background-image: url(\''+t.image+"');\"></div>\n      </div>")}function w(){$(".interactive-hero").addClass("active fallback-active");var t="";h&&(t+="-mobile");var i=[],n=p.find(function(e){return 1==e.active});n.floorTypes.forEach(function(t){n.times.forEach(function(e){i.push(n.name+"-"+t.type+"-"+e)})}),$(".room-static").html(i.map(function(e){return"<div class='room-bg' style='background-image:url(./assets/img/hero/"+e+t+"/1.jpg)' data-id='"+e+t+"'></div>"})),c()}function c(){var e=g();$(".room-bg.is-active").removeClass("is-active"),$(".room-bg[data-id="+e+"]").addClass("is-active")}function l(){$(".interactive-hero-component").addClass("loaded"),(!function(){try{var e=document.createElement("canvas");return window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl"))}catch(e){return}}()||window.isIE()||!window.matchMedia("(min-width: "+SCREEN_MD+"px)").matches?w:r)()}$(".interactive-hero-component").length&&(e=getRandomInt(p.length),p[e].active=!0,t=p[e].name,window.addEventListener("resize",o),window.addEventListener("scroll",a),window.addEventListener("load",l),o(),a(),$(".interactive-hero").each(function(){var e,t;e=$(this),t=p.find(function(e){return 1==e.active}),e.find(".floor-types").html(t.floorTypes.map(function(e,t){return'<div class="floor-type '+(0==t?"active":"")+'" data-floortype="'+e.type+'">'+e.attribute+"</div>"}).join("")),s($(this))})),$("body").on("click touch",".day-night-toggles .toggle:not(.active)",function(){$(this).parent().find(".active").removeClass("active"),$(this).addClass("active"),n=$(this).data("time"),c()}),$("body").on("click touch",".floor-types .floor-type:not(.active)",function(){$(this).parent().find(".active").removeClass("active"),$(this).addClass("active"),i=$(this).data("floortype"),s($(this).closest(".interactive-hero")),c()})});